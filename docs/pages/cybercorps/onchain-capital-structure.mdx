---
showOutline: false
content:
  width: 75%
---

# Onchain Capital Structure

A **cyberCORP’s capital structure** – its stock ledger and equity issuance – is managed entirely on-chain through a set of smart contracts. This means that a cyberCORP’s shares (and other securities like SAFEs or convertible notes) are **tokenized as NFTs** and recorded on a blockchain rather than on paper or spreadsheets. Every issuance, transfer, or corporate action is executed by code, bringing unprecedented **transparency, automation, and security** to managing a company’s equity. The core of this system is implemented in MetaLeX’s smart contracts (available in the cyberCORPs contracts repository) and accessible via the user-friendly cyberCORPs web app. Below, we break down how this on-chain cap table works and the benefits it provides to founders and investors.

Core Components: _IssuanceManager_ and _CyberCertPrinter_
---------------------------------------------------------

**IssuanceManager Contract:** When a new cyberCORP is launched, it deploys a dedicated **IssuanceManager** smart contract for that company. Think of the IssuanceManager as an on-chain **registrar** or **cap table manager** – it maintains the authoritative record of all the company’s outstanding shares and securities. The IssuanceManager can create and track multiple classes/series of stock or other instruments. It acts as the central controller for equity operations: deploying new token contracts for each security class, minting new shares to investors, recording conversions (e.g. SAFEs converting to equity), and updating the cap table state. In essence, the IssuanceManager is the brain of the on-chain cap table, coordinating all equity-related activities for the cyberCORP.

**CyberCertPrinter Contracts:** For each **class or series of equity** that the company has (for example, _Class A Common Stock_, _Series Seed Preferred Stock_, _Series A Preferred_, etc.), the IssuanceManager deploys a separate **CyberCertPrinter** contract. A CyberCertPrinter is essentially a **digital stock certificate printer**. It’s an ERC-721 NFT contract specialized for a particular type of security (e.g. “Common Stock” or “Preferred Stock”) and, if applicable, a series designation (e.g. “Series A”). When the cyberCORP needs to issue shares of that class, the IssuanceManager calls functions on the corresponding CyberCertPrinter to **mint new NFT-based stock certificates** to the appropriate owner. Each token minted by a CyberCertPrinter represents a **unique stock certificate (share)** in that class/series, complete with metadata and legal details. The cyberCORP may have just one CyberCertPrinter (if it only has one class of stock) or many (one for each class and series of shares or convertible instruments it issues).

_Example:_ Upon cyberCORP initialization, the founder might use the IssuanceManager to create a _Common Stock_ certificate contract and a _Series A Preferred_ contract. These would be two CyberCertPrinter instances, one for each class. Later, if the company authorizes a new series of Preferred Stock (say Series B), the IssuanceManager can deploy another CyberCertPrinter for _Series B Preferred_. This modular design keeps different equities separated but under the common control of the IssuanceManager.

**Under the Hood:** CyberCertPrinter contracts are standard ERC-721 tokens with added logic for corporate compliance. Each CyberCertPrinter is deployed via a minimal proxy pattern (allowing upgradeability behind the scenes), and it’s initialized with parameters like the security’s name, ticker symbol, security class (from a predefined enum such as CommonStock or PreferredStock), and series (Series A, B, Seed, etc.). This configuration ensures that each token contract knows what type of equity it represents. The IssuanceManager keeps a registry of all its CyberCertPrinters, enabling the cyberCORP to query or iterate over all share classes in its cap table.

Tokenized Stock Certificates & Legal Alignment
----------------------------------------------

When a CyberCertPrinter mints a new token, that token is effectively a **stock certificate issued as an NFT**. Each certificate NFT can include important **metadata**, such as the shareholder’s name, the number of shares it represents, and even a link to a PDF of the signed certificate or relevant legal agreements. MetaLeX’s design explicitly aims to imbue these tokens with the **same legal status and function as traditional paper stock certificates**. In fact, this approach aligns with recent Delaware state law amendments, which _authorize corporations to maintain their stock ledger on a blockchain_. By mapping each share (or each certificate representing a bundle of shares) to a unique token ID, a cyberCORP’s on-chain ledger is a legally recognized source of truth for ownership.

**Share Classes and Series in Code:** The smart contracts enforce distinctions between different share classes and series. For example, a token from the _Preferred Stock, Series A_ contract is programmatically recognized as “Series A Preferred” and can carry whatever rights or restrictions are unique to that series. This ties into MetaLeX’s broader legal-tech research (see **Tokenizing Corporate Capital Stock** in MetaLeX publications) which ensures that on-chain representations correspond to real-world definitions (e.g. what “Series A Preferred” means in a charter or term sheet). Because each share class has its own contract address and metadata, the system can, if needed, treat them differently for voting, dividends, liquidation preferences, etc., just as a traditional corporation would differentiate share classes in its charter.

**Instant, Immutable Ledger:** Whenever shares are issued, transferred, or retired, those changes are recorded by the contracts **immutably on-chain**. Instead of updating a spreadsheet or calling a transfer agent, the company uses its IssuanceManager (via a transaction) to record the change. The blockchain becomes the company’s **cap table ledger** – tamper-proof and time-stamped. Ownership of the company’s stock is represented by wallet addresses holding the NFTs, and transfers of ownership occur by transferring these tokens (subject to the restrictions below). Settlement is near-instant, secured by the blockchain’s consensus, meaning no waiting for paperwork to process. At any moment, the IssuanceManager can provide a canonical list of all outstanding shares and their holders by querying the tokens in each CyberCertPrinter it manages.

Transfer Restrictions & Compliance Controls
-------------------------------------------

One of the key benefits of an on-chain equity system is that compliance rules can be **built into the contracts themselves**. In traditional corporate law, transferring stock often requires certain conditions to be met: for example, board approval, a right of first refusal process, or legends on certificates indicating restrictions (such as _“This security is not registered under the Securities Act and may not be transferred without appropriate authorization”_). CyberCORP smart contracts mirror these requirements in code:

*   **Restricted Transfers:** By default, a cyberCORP’s share tokens are **not freely transferable** without the company’s approval. If a shareholder wants to transfer a stock NFT to a new owner, the CyberCertPrinter contract can be configured to **require an endorsement** (permission) before the transfer is finalized on-chain. This works analogous to having an officer sign the back of a paper certificate to approve the transfer. The endorsement itself can be represented by an on-chain signature or a specific function call by an authorized party. Until an endorsement is recorded, the token cannot be transferred to a new address, preserving the integrity of the cap table and ensuring compliance with any shareholder agreements or securities laws.

*   **Legends and Whitelists:** Each CyberCertPrinter can enforce **legends** – essentially notes or flags on the token that indicate transfer restrictions or required qualifications. For instance, a legend might indicate that the holder must be an accredited investor, or that the token cannot be transferred until a certain date. The contracts support global or per-token restrictions and can include whitelist mechanisms (addresses approved for transfer) or require certain conditions to be met (via hook contracts) before a transfer. These legends appear in the token’s metadata and are taken into account whenever a transfer is attempted. If a transfer violates a legend (say, trying to send a Restricted stock token to an unapproved buyer), the contract will **reject the transfer** automatically with an error explaining the restriction.

*   **WhitelistTransferHook:** MetaLeX’s contract library includes a hook that checks both the sender and recipient against a board-managed whitelist. If either address is not approved, the transfer reverts. This makes it easy to enforce investor qualification or KYC requirements entirely on-chain.

*   **ToggleTransferHook:** Another module lets the company flip transferability on or off globally or for specific certificate IDs. When transferability is disabled, the token is non-transferable until the flag is re-enabled, supporting temporary lockups or per-investor restrictions.

*   **On-Chain Approvals:** Company officers or admins (as defined in the cyberCORP’s governance settings) have special privileges in the IssuanceManager and CyberCertPrinter contracts to manage these restrictions. They can endorse transfers, update legends, or globally toggle whether a particular class of shares is transferable. All such actions are logged via events, creating a clear audit trail. This on-chain oversight replaces the need for off-chain coordination for tasks like updating a cap table or issuing new certificates – the smart contracts ensure that only authorized actions occur, and nothing “slips through the cracks” without proper sign-off.

These hooks are attached to certificate contracts via the IssuanceManager, and company officers can toggle them as needed, providing an on-chain analogue to paper legends and transfer restrictions.

In practice, these compliance features mean a cyberCORP can **satisfy legal requirements by design**. The cap table isn’t just on-chain for transparency; it’s also enforcing the rules that real-world lawyers care about. For example, if a share class requires board consent to transfer, the smart contract requires an on-chain signature from a board-designated account. If securities laws demand a legend on certain shares, the NFT metadata includes that legend and the contract blocks disallowed trades. This gives regulators, auditors, and the company’s lawyers confidence that the on-chain records are not only accurate but also being managed in accordance with the law.

Corporate Actions via Smart Contracts
-------------------------------------

Because equity and investor agreements live on-chain, many **corporate actions** can be automated or executed with a single transaction. The IssuanceManager and CyberCertPrinters work in tandem to handle typical events in a company’s life cycle:

*   **Issuing New Shares:** When the company needs to issue more stock (for example, issuing founder shares, or closing a new investment round), the IssuanceManager mints new tokens via the relevant CyberCertPrinter. This could be a new Common Stock certificate to a founder, or a batch of Preferred Stock certificates to investors in a financing round. The details of the issuance (who the investor is, how much they paid, valuation, etc.) are captured in the token’s metadata or in event logs. There’s no need to manually update a spreadsheet or stock ledger book – the blockchain **transaction itself is the update**. When fundraising is performed through MetaLeX’s **Round Manager**, the IssuanceManager deploys any required CyberCertPrinter contracts at round creation and mints certificates to investors as allocations are confirmed. For example, EOI submissions in a Series Seed round lead to Series Seed Preferred Stock certificates being minted to multiple investors as the round closes.

*   **Hybrid Security Issuance and Conversions:** When a company completes a round through the Round Manager, the IssuanceManager automatically mints certificates for SAFEs, SAFTs, SAFTEs, and equity shares. Conversions are triggered by a subsequent priced equity round for SAFEs and SAFTEs or by a token generation event for SAFTs. The IssuanceManager calculates the correct share or token allocation and mints new certificates accordingly, keeping the on-chain cap table current without manual intervention.

*   **Stock Splits and Mergers:** If the company ever needs to **split** its stock (e.g., a 2-for-1 split of common shares) or perform other cap table reorganizations, the on-chain approach simplifies this. Rather than issuing new certificates and canceling old ones manually, a smart contract function can automate the process – minting additional tokens to each holder in a split, or adjusting token metadata to reflect changes. Similarly, if two classes are merged or a class is reclassified, the contracts could support retiring one CyberCertPrinter’s tokens and reissuing under another, all with a verified record of what happened.

*   **Cancellations and Buybacks:** In cases of certificate cancellations (like voiding a lost certificate, or share buybacks/redemptions by the company), an admin can call the IssuanceManager to **void** a specific token ID. The system might either burn the NFT or mark it as canceled in metadata. This is analogous to tearing up a paper certificate, but with an immutable on-chain record that certificate #X was voided at a certain block/time by the company. If the company repurchases shares from a shareholder, it can similarly have the shareholder transfer the token back and then burn or hold it as treasury stock (depending on the desired outcome), all traceable on-chain.

All of these actions emit events and leave a permanent record. At any point, the company or investors can query the blockchain to get a **real-time cap table**: which addresses hold which shares, and how many. There’s no need to reconcile multiple sources of truth – the chain _is_ the source of truth. Moreover, these actions can be executed in a single atomic sequence if needed. For instance, MetaLeX’s CyberCorpFactory contract (used when creating a new cyberCORP) can deploy a new company **and immediately perform a fundraising issuance** in one go. The factory can deploy the corp’s contracts, then call IssuanceManager to create a stock class and issue a SAFE or shares to an investor, then even set up a deal escrow – all in one blockchain transaction (the web app orchestrates this when a founder clicks “Launch and Fund”). This demonstrates the power of on-chain integration: **complex multi-step legal processes can be automated**, reducing turnaround time from weeks to seconds.

solidity

```
// Example: Creating a new share class (Series A Preferred Stock) and issuing shares to an investor

address seriesAContract = issuanceManager.createCertPrinter(
    ["Restricted: Unregistered Security"],   // default legend for this stock class
    "Series A Preferred Stock",              // name of the security
    "SERIESA",                               // ticker symbol
    "ipfs://Qm...certificateMetadata.json",  // URI to off-chain certificate details
    SecurityClass.PreferredStock,            // type of security (from enum)
    SecuritySeries.SeriesA,                  // series designation (from enum)
    address(0)                               // no special extension logic
);

uint256 newCertId = issuanceManager.createCertAndAssign(
    seriesAContract, 
    investorAddress, 
    certificateDetailsStruct                // details like investment amount, shares, etc.
);
// The above call mints a new NFT stock certificate (ID = newCertId) to the investorAddress.
```

_In the code snippet:_ The `createCertPrinter` call deploys a new NFT contract for **Series A Preferred Stock** with a transfer restriction legend. The `createCertAndAssign` then mints a new share certificate token from that contract and assigns it to an investor in one step. These functions are part of the cyberCORP’s IssuanceManager contract (see the cybercorps-contracts code for implementation details).

Benefits of an On-Chain Cap Table
---------------------------------

Moving a company’s equity and securities onto the blockchain isn’t just a gimmick – it provides tangible advantages over traditional cap table management and stock issuance. Some key benefits of MetaLeX’s cyberCORP on-chain capital structure include:

*   **Real-Time Transparency:** The cap table is always up-to-date and transparently visible on-chain. Founders, investors, and regulators can verify ownership stakes at any time, in real-time, without waiting for quarterly updates or pulling records from lawyers. This real-time view builds trust and aids due diligence (for example, an investor can see their NFT shares in their wallet immediately upon issuance).

*   **Instant Settlement & Reduced Friction:** Equity transactions (issuances or transfers) settle nearly instantly with finality. There’s no weeks-long waiting period for paperwork, signatures, and manual entry. A fundraising event that might have taken days of coordination can be executed with a single click (or link share) via the smart contracts. This **reduces operational friction** dramatically – closing an investment round becomes as easy as a blockchain transfer.

*   **Automated Compliance:** Built-in rules and automated checks mean that compliance is continuous and trust-minimized. The system won’t allow unauthorized share transfers or over-issuance of stock because the smart contracts enforce the rules. This reduces the risk of human error (no issuing the wrong number of shares, no forgetting to enforce a lock-up) and ensures corporate governance policies are followed by default.

*   **Reduced Administrative Overhead:** By leveraging smart contracts, companies can eliminate or simplify many tedious cap table management tasks. No more manually updating spreadsheets, sending certificates, or coordinating between law firms and transfer agents for simple actions. Routine tasks like recording a SAFE conversion or updating a stockholder’s address are handled by contract calls, saving legal hours and administrative costs.

*   **Programmable Equity & Investor Rights:** Because shares are represented as code, you can program them to do more. For instance, a cyberCORP could automatically calculate and distribute dividends or other distributions to all shareholders by reading token holdings (no need for a separate payout process). Voting rights can be tallied on-chain with tokens, enabling hybrid on-chain/off-chain governance meetings. Smart extensions (like MetaLeX’s **MetaVesT** for vesting or **LeXcheX** for accredited investor verification) can plug into the cap table to provide advanced features like automated vesting schedules or compliance oracles. This **“code-as-law”** approach means the company’s bylaws or shareholder agreements can be at least partly enforced by smart contracts, reducing ambiguity and the need for after-the-fact enforcement.

*   **Global Accessibility for Fundraising:** Using on-chain equity makes it easier to involve participants from around the world in a company’s financing. Instead of dealing with international wire transfers and wet signatures, a founder can share a link to a **cyberCORPs fundraising deal** and investors can participate using their web3 wallet, receiving equity tokens in return. This opens up more possibilities for pooling capital (e.g. on-chain SAFE investments from a group of angel DAO members) and potentially for future secondary liquidity (trading tokens peer-to-peer, if allowed). While still complying with securities laws, the _technical_ barriers to entry are lowered – all you need is an internet connection and a wallet to become a shareholder, which is particularly powerful for global talent and investor communities.

*   **Security and Immutability:** Records on Ethereum (or other chains MetaLeX might deploy on) are tamper-evident and secure. It’s extremely difficult for any malicious actor to alter the cap table or forge a stock certificate once issued, compared to the risk of someone manipulating paper records or centralized databases. Every change is recorded in an immutable ledger, creating a robust audit trail. This can improve accountability and prevent common problems like duplicate or inconsistent cap table records.

In summary, a cyberCORP’s on-chain capital structure **modernizes the way companies handle equity**. It blends the **legal rigor of traditional corporate finance** (every share is accounted for and compliant) with the **efficiency of blockchain technology** (automation, speed, and transparency). Founders can focus more on building their business and less on cap table spreadsheets, knowing that their company’s ownership is consistently and correctly tracked by code. Investors benefit from immediate clarity on what they own and potentially new ways to interact with their equity (like using tokens in smart contracts for lending or collateral, subject to legal restrictions). MetaLeX’s cyberCORPs turn the cap table into a living, breathing part of the software stack of a company, paving the way for more **dynamic fundraising, governance, and growth** in the on-chain era.

**Next Steps:** To delve deeper, you can explore the actual smart contract code in the MetaLeX cybercorps-contracts GitHub repository, which provides implementation details and examples. If you’re a founder or investor interested in using these tools, visit the cyberCORPs platform to see how on-chain fundraising and cap table management works in practice, and check out related documentation on **[cyberRaise](/cyberdeals/cyberraise)**, **[Governance and Officers](/cybercorps/governance-and-officers)**, and other cyberCORP features. The on-chain future of corporate capital management is here – and MetaLeX’s cyberCORP framework is your guide to leveraging it.
